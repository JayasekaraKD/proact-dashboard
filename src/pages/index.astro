---
// src/pages/index.astro
import DashboardLayout from "../layouts/DashboardLayout.astro";
import RelationshipTable from "../components/dashboard/RelationshipTable.astro";
import RelationshipModal from "../components/dashboard/RelationshipModal.astro";
import { relationService } from "../services/relationService";
import CreateRelationshipButton from "@/components/dashboard/CreateRelationshipButton.astro";

const relationships = await relationService.getAllRelations();
---

<DashboardLayout title="Relationships">
	<div class="space-y-4">
		<div class="flex justify-between items-center py-4">
			<h1 class="text-2xl">Relationships</h1>
			<CreateRelationshipButton />
		</div>

		<div class="mb-4">
			<input
				type="text"
				id="searchInput"
				placeholder="Search relationships..."
				class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
			/>
		</div>

		<RelationshipTable data={relationships} />
		<RelationshipModal />
	</div>
</DashboardLayout>
